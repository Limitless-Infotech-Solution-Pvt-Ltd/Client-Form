<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Questionnaire - Limitless Infotech Solution's PVT LTD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .form-step, #admin-dashboard { display: none; animation: fadeIn 0.5s; }
        .form-step.active, #admin-dashboard.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .progress-bar-fill { transition: width 0.4s ease-in-out; background-image: linear-gradient(to right, #3b82f6, #60a5fa); }
        .form-container { max-width: 800px; margin: 2.5rem auto; }
        #successMessage, #submissionError { display: none; }
        .invalid-field { border-color: #ef4444 !important; }
        .error-message { color: #dc2626; font-size: 0.875rem; margin-top: 0.25rem; }
        .char-counter { font-size: 0.75rem; color: #6b7280; text-align: right; }
        .spinner { animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s; }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content { background: white; padding: 2rem; border-radius: 0.5rem; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; transform: scale(0.95); transition: transform 0.3s; }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .radio-label, .checkbox-label { display: inline-flex; align-items: center; cursor: pointer; }
        .radio-input, .checkbox-input { display: none; }
        .radio-custom, .checkbox-custom { width: 1.25rem; height: 1.25rem; border: 2px solid #d1d5db; display: inline-grid; place-items: center; transition: all 0.2s; }
        .radio-custom { border-radius: 50%; } .checkbox-custom { border-radius: 0.25rem; }
        .radio-custom::before { content: ""; width: 0.75rem; height: 0.75rem; border-radius: 50%; background-color: #3b82f6; transform: scale(0); transition: transform 0.2s; }
        .checkbox-custom::before { content: "✓"; color: white; font-size: 0.8rem; font-weight: bold; transform: scale(0); transition: transform 0.2s; }
        .radio-input:checked + .radio-custom, .checkbox-input:checked + .checkbox-custom { border-color: #3b82f6; background-color: #3b82f6; }
        .radio-input:checked + .radio-custom::before, .checkbox-input:checked + .checkbox-custom::before { transform: scale(1); }
        #submission-loader { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255, 255, 255, 0.9); z-index: 2000; display: none; align-items: center; justify-content: center; }
        #logo-preview { max-width: 150px; max-height: 150px; margin-top: 1rem; border: 1px solid #e5e7eb; padding: 0.5rem; border-radius: 0.25rem; }
        input[type="text"], input[type="email"], input[type="tel"], input[type="url"], select, textarea { transition: box-shadow 0.2s, border-color 0.2s; }
        input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus, input[type="url"]:focus, select:focus, textarea:focus { box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3); border-color: #3b82f6; }
        .form-step h2 { border-color: #f59e0b; }
        #submitBtn { transition: background-color 0.3s, transform 0.2s; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        #submitBtn:hover { transform: translateY(-2px); }
        .conditional { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out, opacity 0.5s ease-out; opacity: 0; }
        .conditional.visible { max-height: 500px; opacity: 1; }
        .tooltip-container { position: relative; display: inline-flex; align-items: center; }
        .tooltip-icon { cursor: pointer; margin-left: 0.5rem; color: #9ca3af; border: 1px solid #9ca3af; border-radius: 50%; width: 1rem; height: 1rem; font-size: 0.7rem; text-align: center; line-height: 0.9rem; }
        .tooltip-text { visibility: hidden; width: 200px; background-color: #1f2937; color: #fff; text-align: center; border-radius: 6px; padding: 5px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -100px; opacity: 0; transition: opacity 0.3s; font-size: 0.75rem; }
        .tooltip-container:hover .tooltip-text { visibility: visible; opacity: 1; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="submission-loader">
        <div class="text-center">
            <div class="spinner border-4 border-gray-200 border-t-blue-500 w-16 h-16 mx-auto"></div>
            <p class="mt-4 text-lg font-semibold text-gray-700">Submitting your request...</p>
        </div>
    </div>

    <div class="form-container bg-white shadow-lg rounded-lg my-10 p-8">
        <!-- Main Form View -->
        <div id="main-view">
            <div id="successMessage" class="text-center">
                <svg class="mx-auto h-12 w-12 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <h3 class="mt-4 text-2xl font-bold text-gray-900">Submission Successful!</h3>
                <p class="mt-2 text-gray-600">Thank you! We have received your submission and sent a confirmation to your email. We will get back to you shortly.</p>
                <div class="mt-6">
                    <button id="startOverBtn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-md hover:bg-blue-700 transition duration-300">Submit Another Request</button>
                </div>
            </div>
            <div id="submissionError" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md"><p class="font-bold">Submission Failed</p><p>An unexpected error occurred. Please check your internet connection and try again.</p></div>

            <div id="brandingHeader" class="text-center mb-8">
                <img src="https://i.imgur.com/OD432yM.png" alt="Limitless Infotech Solution's PVT LTD Logo" class="mx-auto h-24 w-auto" onerror="this.onerror=null;this.src='https://placehold.co/200x80/000000/FFFFFF?text=Logo';">
                <h1 class="text-3xl font-bold text-gray-900 mt-4">Limitless Infotech Solution's PVT LTD</h1>
                <p class="text-gray-600 mt-2 italic">Client Questionnaire – Website, Branding & Digital Services</p>
            </div>

            <div id="form-content">
                <div class="mb-8"><div class="w-full bg-gray-200 rounded-full h-2.5"><div id="progressBar" class="bg-blue-600 h-2.5 rounded-full progress-bar-fill" style="width: 10%"></div></div><div id="stepIndicator" class="text-center text-sm text-gray-600 mt-2">Step 1 of 10</div></div>
                
                <form id="requirementsForm" action="https://formspree.io/f/faisalarzookhan@gmail.com" method="POST" enctype="multipart/form-data" novalidate>
                    <input type="hidden" name="_subject" value="New Client Questionnaire Submission!">
                    <input type="hidden" name="_format" value="table">
                    <input type="hidden" name="_replyto" id="replyto-field">
                    <input type="hidden" name="_cc" id="cc-field">
                    <input type="hidden" name="_autoresponse" id="autoresponse-field" value="Thank you for your submission! We have received your project requirements. A team member from Limitless Infotech will get back to you soon. In the meantime, feel free to browse our website: https://your-website.com">

                    <!-- Step 1: Contact Information -->
                    <div id="step-1" class="form-step active"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Contact Information</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label><input type="text" id="fullName" name="Full Name" required class="w-full px-4 py-2 border border-gray-300 rounded-md"><p class="error-message" aria-live="polite"></p></div><div><label for="companyName" class="block text-sm font-medium text-gray-700 mb-1">Company Name</label><input type="text" id="companyName" name="Company Name" class="w-full px-4 py-2 border border-gray-300 rounded-md"></div><div><label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label><input type="email" id="email" name="Email" required class="w-full px-4 py-2 border border-gray-300 rounded-md"><p class="error-message" aria-live="polite"></p></div><div><label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label><input type="tel" id="phone" name="Phone Number" class="w-full px-4 py-2 border border-gray-300 rounded-md"></div></div></div>
                    
                    <!-- Step 2: The Big Picture -->
                    <div id="step-2" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">The Big Picture</h2><div class="space-y-6"><div><label for="q_business_overview" class="block text-sm font-medium text-gray-700">1. Business Overview & Goals</label><p class="text-sm text-gray-500 mt-1">Briefly describe your business, its vision, and the launch goals. 👉 Include your business segments, mission, and your target launch date.</p><textarea id="q_business_overview" name="1. Business Overview & Goals" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div><div><label for="q_audience" class="block text-sm font-medium text-gray-700">2. Audience & Market Understanding</label><p class="text-sm text-gray-500 mt-1">Who is your ideal customer and what would influence their buying decision? 👉 Also let us know what you like/dislike about competitor websites and messaging.</p><textarea id="q_audience" name="2. Audience & Market Understanding" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div><div><label for="q_branding_style" class="block text-sm font-medium text-gray-700">3. Branding & Style Preferences</label><p class="text-sm text-gray-500 mt-1">What kind of style or feel would you like for your logo and brand colours? 👉 For example: bold, elegant, earthy, premium, youthful, minimal, traditional, etc.</p><textarea id="q_branding_style" name="3. Branding & Style Preferences" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div></div></div>

                    <!-- Step 3: Existing Assets -->
                    <div id="step-3" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Existing Assets</h2><div class="space-y-6"><div><label for="existing_website" class="block text-sm font-medium text-gray-700">Current Website URL (if any)</label><input type="url" id="existing_website" name="Existing Website URL" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" placeholder="https://www.example.com"></div><div><label for="existing_logo" class="block text-sm font-medium text-gray-700">Upload Your Current Logo</label><input type="file" id="existing_logo" name="Existing Logo" class="mt-2 w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" accept="image/*"><img id="logo-preview" class="hidden" src="#" alt="Logo Preview"></div></div></div>

                    <!-- Step 4: Project Context & Experience -->
                    <div id="step-4" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Project Context & Experience</h2><div class="space-y-6"><div><label for="q_industry" class="block text-sm font-medium text-gray-700">What industry does your business operate in?</label><input type="text" id="q_industry" name="Industry" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" placeholder="e.g., E-commerce, Technology, Healthcare, etc."></div><div><label for="q_experience" class="block text-sm font-medium text-gray-700">Have you or your team undertaken a similar website or branding project before?</label><p class="text-sm text-gray-500 mt-1">If yes, please briefly describe the experience and any lessons learned.</p><textarea id="q_experience" name="Previous Project Experience" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div><label for="q_maintenance" class="block text-sm font-medium text-gray-700">Are you looking for ongoing support and maintenance after the initial project is complete?</label><p class="text-sm text-gray-500 mt-1">Please specify what kind of support you might need (e.g., content updates, technical support, security monitoring).</p><textarea id="q_maintenance" name="Ongoing Support Needs" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div></div></div>

                    <!-- Step 5: Website Functionality -->
                    <div id="step-5" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Website Functionality</h2><div class="space-y-6"><div><label for="q_website_objectives" class="block text-sm font-medium text-gray-700">4. Website Objectives & Features</label><p class="text-sm text-gray-500 mt-1">What is the main purpose of your website and what features should it have? 👉 Mention if products are fixed or customizable, and how you'd prefer custom orders to be handled.</p><textarea id="q_website_objectives" name="4. Website Objectives & Features" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div><div><label for="q_product_categories" class="block text-sm font-medium text-gray-700">5. Product Categories & Content</label><p class="text-sm text-gray-500 mt-1">How many product categories and subcategories will you start with? 👉 Include any special sections like blogs, reviews, or project galleries.</p<textarea id="q_product_categories" name="5. Product Categories & Content" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div><div><label for="q_design_ux" class="block text-sm font-medium text-gray-700">6. Design & User Experience</label><p class="text-sm text-gray-500 mt-1">What kind of look and feel should the website have? 👉 Clean or interactive layout? Preferred colours/fonts? Do you need the site in multiple languages?</p><textarea id="q_design_ux" name="6. Design & User Experience" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div></div></div>

                    <!-- Step 6: Advanced & Technical Features -->
                    <div id="step-6" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Advanced & Technical Features</h2><div class="space-y-8"><div><label class="block text-sm font-medium text-gray-700">1. How will the product designs be created and by whom?</label><p class="text-sm text-gray-500 mt-1">Will your team handle product designing? Also, will the designs be made online or offline?</p><textarea id="q_design_creation" name="Tech - 1. Design Creation" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1000"></textarea><div class="char-counter">0 / 1000</div></div><div><label class="block text-sm font-medium text-gray-700 tooltip-container">📐 2. Will designs be provided in SVG format?<span class="tooltip-icon">?</span><span class="tooltip-text">SVG/CAD formats are vector files ideal for scalable, high-quality graphics and 3D models.</span></label><p class="text-sm text-gray-500 mt-1">If yes, how many angles should be included (e.g., front, top, side)?</p><textarea id="q_svg_format" name="Tech - 2. SVG/CAD Format" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1000"></textarea><div class="char-counter">0 / 1000</div></div><div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700 tooltip-container">📊 3. Do you need advanced data insights like Pivot Charts?<span class="tooltip-icon">?</span><span class="tooltip-text">Pivot charts allow for interactive summarizing and exploring of large datasets, like sales or user behavior.</span></label></div><div class="flex space-x-4"><label class="radio-label"><input type="radio" name="Tech - 3. Pivot Charts" value="Yes" class="radio-input"><span class="radio-custom"></span><span class="ml-2">Yes</span></label><label class="radio-label"><input type="radio" name="Tech - 3. Pivot Charts" value="No" class="radio-input"><span class="radio-custom"></span><span class="ml-2">No</span></label></div></div><div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700">🔒 4. Should there be an option to assign admin rights to your team members?</label></div><div class="flex space-x-4"><label class="radio-label"><input type="radio" name="Tech - 4. Admin Rights" value="Yes" class="radio-input"><span class="radio-custom"></span><span class="ml-2">Yes</span></label><label class="radio-label"><input type="radio" name="Tech - 4. Admin Rights" value="No" class="radio-input"><span class="radio-custom"></span><span class="ml-2">No</span></label></div></div><div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700">🧩 5. If new products are added in SVG/CAD, should they support direct 3D previews?</label></div><div class="flex space-x-4"><label class="radio-label"><input type="radio" name="Tech - 5. 3D Previews" value="Yes" class="radio-input"><span class="radio-custom"></span><span class="ml-2">Yes</span></label><label class="radio-label"><input type="radio" name="Tech - 5. 3D Previews" value="No" class="radio-input"><span class="radio-custom"></span><span class="ml-2">No</span></label></div></div><div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700">🛍️ 6. Would you like to enable product promotions and a 'Trending' page?</label></div><div class="flex space-x-4"><label class="radio-label"><input type="radio" name="Tech - 6. Promotions" value="Yes" class="radio-input"><span class="radio-custom"></span><span class="ml-2">Yes</span></label><label class="radio-label"><input type="radio" name="Tech - 6. Promotions" value="No" class="radio-input"><span class="radio-custom"></span><span class="ml-2">No</span></label></div></div><div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700">💵 7. Will you offer Cash on Delivery (COD) as a payment option?</label></div><div class="flex space-x-4"><label class="radio-label"><input type="radio" name="Tech - 7. COD" value="Yes" class="radio-input"><span class="radio-custom"></span><span class="ml-2">Yes</span></label><label class="radio-label"><input type="radio" name="Tech - 7. COD" value="No" class="radio-input"><span class="radio-custom"></span><span class="ml-2">No</span></label></div></div></div></div>

                    <!-- Step 7: Technical & Operational Details -->
                    <div id="step-7" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Technical & Operational Details</h2><div class="space-y-6"><div><label for="q_hosting" class="block text-sm font-medium text-gray-700">Do you have a domain name and a hosting plan?</label><p class="text-sm text-gray-500 mt-1">If so, please provide details about your domain registrar and hosting provider.</p><textarea id="q_hosting" name="Hosting & Domain Details" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div><label for="q_security" class="block text-sm font-medium text-gray-700 tooltip-container">Are there any specific security requirements or data privacy regulations we need to consider?<span class="tooltip-icon">?</span><span class="tooltip-text">e.g., GDPR for Europe, HIPAA for healthcare. This is crucial for compliance.</span></label><textarea id="q_security" name="Security & Compliance" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div><label for="q_scalability" class="block text-sm font-medium text-gray-700">What is your expected user traffic or data volume for the first year?</label><p class="text-sm text-gray-500 mt-1">This helps us plan for scalability and performance.</p><textarea id="q_scalability" name="Scalability & Performance" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div></div></div>
                    
                    <!-- Step 8: Digital Marketing -->
                    <div id="step-8" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Digital Marketing Services</h2><div class="space-y-6"><div><label class="block text-sm font-medium text-gray-700">Which additional digital marketing services are you interested in?</label><div class="mt-2 space-y-2" id="marketing-services-container"><label class="checkbox-label"><input type="checkbox" name="Marketing Service" value="Social Media Management" class="checkbox-input marketing-service-checkbox"><span class="checkbox-custom"></span><span class="ml-2">Social Media Management</span></label><label class="checkbox-label"><input type="checkbox" name="Marketing Service" value="SEO" class="checkbox-input marketing-service-checkbox"><span class="checkbox-custom"></span><span class="ml-2">Search Engine Optimization (SEO)</span></label><label class="checkbox-label"><input type="checkbox" name="Marketing Service" value="PPC" class="checkbox-input marketing-service-checkbox"><span class="checkbox-custom"></span><span class="ml-2">Pay-Per-Click (PPC) Advertising</span></label><label class="checkbox-label"><input type="checkbox" name="Marketing Service" value="Email Marketing" class="checkbox-input marketing-service-checkbox"><span class="checkbox-custom"></span><span class="ml-2">Email Marketing</span></label></div></div><div id="social_media_details" class="conditional mt-4"><label for="q_social_media" class="block text-sm font-medium text-gray-700">Social Media Expectations</label><p class="text-sm text-gray-500 mt-1">Tell us your expectations – branding, leads, content ideas (photos, reels, BTS, etc.).</p><textarea id="q_social_media" name="Social Media Expectations" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div id="seo_details" class="conditional mt-4"><label for="q_seo" class="block text-sm font-medium text-gray-700">SEO Goals</label><p class="text-sm text-gray-500 mt-1">What are your primary keywords or goals for search engine visibility?</p><textarea id="q_seo" name="SEO Goals" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div id="ppc_details" class="conditional mt-4"><label for="q_ppc" class="block text-sm font-medium text-gray-700">PPC Advertising Details</label><p class="text-sm text-gray-500 mt-1">Do you have a target ad spend, and which platforms are you interested in (e.g., Google Ads, Facebook Ads)?</p><textarea id="q_ppc" name="PPC Details" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div id="email_marketing_details" class="conditional mt-4"><label for="q_email_marketing" class="block text-sm font-medium text-gray-700">Email Marketing Needs</label><p class="text-sm text-gray-500 mt-1">Do you have an existing email list? What kind of campaigns are you planning?</p><textarea id="q_email_marketing" name="Email Marketing Needs" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div></div></div>

                    <!-- Step 9: Project Management & Budget -->
                    <div id="step-9" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Project Management & Budget</h2><div class="space-y-6"><div><label for="q_priority" class="block text-sm font-medium text-gray-700">Project Priority</label><select id="q_priority" name="Project Priority" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"><option value="">Select Priority</option><option value="High">High - Urgent</option><option value="Medium">Medium - Standard Timeline</option><option value="Low">Low - Flexible Timeline</option></select></div><div><label for="q_communication" class="block text-sm font-medium text-gray-700">Preferred Communication</label><p class="text-sm text-gray-500 mt-1">How and how often would you like to receive project updates?</p><textarea id="q_communication" name="Preferred Communication" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" placeholder="e.g., Weekly email summaries, bi-weekly calls..."></textarea></div><div><label for="q_stakeholders" class="block text-sm font-medium text-gray-700">Key Stakeholders</label><p class="text-sm text-gray-500 mt-1">Please list the names and roles of key team members who will be involved in this project.</p><textarea id="q_stakeholders" name="Key Stakeholders" rows="3" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md"></textarea></div><div><label for="q_budget_timeline" class="block text-sm font-medium text-gray-700">Budget & Project Timeline</label><p class="text-sm text-gray-500 mt-1">What is your expected budget and any key deadlines?</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"><div><label for="budget" class="block text-xs font-medium text-gray-600">Budget</label><div class="flex"><select id="currency" name="Currency" class="px-4 py-2 border border-r-0 border-gray-300 rounded-l-md bg-gray-50"></select><select id="budget" name="Budget" class="w-full px-4 py-2 border border-gray-300 rounded-r-md"><option value="">Select a range</option><option value="<5000">&lt; 5,000</option><option value="5000-10000">5,000 - 10,000</option><option value="10000-25000">10,000 - 25,000</option><option value="25000-50000">25,000 - 50,000</option><option value=">50000">&gt; 50,000</option></select></div></div><div><label for="timeline" class="block text-xs font-medium text-gray-600">Timeline / Deadline</label><input type="text" id="timeline" name="Timeline" class="w-full px-4 py-2 border border-gray-300 rounded-md" placeholder="e.g., 3 months, specific date..."></div></div></div><div><label for="q_final_notes" class="block text-sm font-medium text-gray-700">Final Notes & Expectations</label><p class="text-sm text-gray-500 mt-1">Do you have any fixed requirements or additional services you expect from us?</p><textarea id="q_final_notes" name="Final Notes & Expectations" rows="4" class="mt-2 w-full px-4 py-2 border border-gray-300 rounded-md" maxlength="1500"></textarea><div class="char-counter">0 / 1500</div></div></div></div>
                    
                    <!-- Step 10: Review & Submit -->
                    <div id="step-10" class="form-step"><h2 class="text-2xl font-semibold text-gray-800 border-l-4 pl-4 mb-6">Review & Submit</h2><p class="text-gray-600 mb-6">Please review the information below before submitting. Click "Edit" to jump back to a section.</p><div id="review-content" class="space-y-4 bg-gray-50 p-6 rounded-lg"></div></div>
                    
                    <!-- Navigation Buttons -->
                    <div class="mt-8 pt-5 border-t border-gray-200"><div class="flex justify-between"><button type="button" id="prevBtn" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-md hover:bg-gray-300">Previous</button><button type="button" id="nextBtn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-md hover:bg-blue-700">Next</button><button type="submit" id="submitBtn" class="bg-green-600 text-white font-bold py-2 px-6 rounded-md hover:bg-green-700 hidden items-center justify-center">Submit Request</button></div></div>
                </form>
            </div>
            <p class="text-center text-xs text-gray-400 mt-8">To view submissions, add #admin to the end of the URL in the address bar.</p>
        </div>

        <!-- Admin Dashboard View -->
        <div id="admin-dashboard">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Submissions Dashboard</h2>
            <div class="md:flex justify-between items-center mb-4 space-y-4 md:space-y-0">
                <div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3"><svg class="w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none"><path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span><input type="text" id="admin-search" placeholder="Search submissions..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md"></div>
                <div class="flex space-x-2"><button id="downloadAllCsvBtn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 text-sm">Download All</button><button id="clearAllBtn" class="bg-red-600 text-white font-bold py-2 px-4 rounded-md hover:bg-red-700 text-sm">Clear All</button></div>
            </div>
            <div id="submissions-container" class="space-y-4"></div>
            <p id="no-submissions" class="text-center text-gray-500 py-8 hidden">No submissions yet.</p>
        </div>

        <!-- Modals -->
        <div id="confirmation-modal" class="modal-overlay"><div class="modal-content"><h3 class="text-lg font-bold mb-4">Are you sure?</h3><p class="text-gray-600 mb-6">This action cannot be undone. All submission data stored in this browser will be permanently deleted.</p><div class="flex justify-end space-x-4"><button id="cancel-clear" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-md hover:bg-gray-300">Cancel</button><button id="confirm-clear" class="bg-red-600 text-white font-bold py-2 px-6 rounded-md hover:bg-red-700">Yes, Clear All</button></div></div></div>
        <div id="details-modal" class="modal-overlay"><div class="modal-content"><div class="flex justify-between items-center mb-4"><h3 class="text-xl font-bold">Submission Details</h3><button id="close-details-modal" class="text-gray-500 hover:text-gray-800 text-3xl leading-none">&times;</button></div><div id="details-modal-content" class="space-y-4"></div><div class="mt-6 flex justify-end"><button id="download-single-csv-btn" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 text-sm">Download as CSV</button></div></div></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            let currentStep = 1;
            const totalSteps = 10;
            const form = document.getElementById('requirementsForm');
            const mainView = document.getElementById('main-view');
            const adminView = document.getElementById('admin-dashboard');

            const fieldLabels = {
                "Full Name": { s: 1 }, "Company Name": { s: 1 }, "Email": { s: 1 }, "Phone Number": { s: 1 },
                "1. Business Overview & Goals": { s: 2 }, "2. Audience & Market Understanding": { s: 2 }, "3. Branding & Style Preferences": { s: 2 },
                "Existing Website URL": { s: 3 }, "Existing Logo": { s: 3 },
                "Industry": { s: 4 }, "Previous Project Experience": { s: 4 }, "Ongoing Support Needs": { s: 4 },
                "4. Website Objectives & Features": { s: 5 }, "5. Product Categories & Content": { s: 5 }, "6. Design & User Experience": { s: 5 },
                "Tech - 1. Design Creation": { s: 6 }, "Tech - 2. SVG/CAD Format": { s: 6 }, "Tech - 3. Pivot Charts": { s: 6 }, "Tech - 4. Admin Rights": { s: 6 }, "Tech - 5. 3D Previews": { s: 6 }, "Tech - 6. Promotions": { s: 6 }, "Tech - 7. COD": { s: 6 },
                "Hosting & Domain Details": { s: 7 }, "Security & Compliance": { s: 7 }, "Scalability & Performance": { s: 7 },
                "Marketing Service": { s: 8 }, "Social Media Expectations": { s: 8 }, "SEO Goals": { s: 8 }, "PPC Details": { s: 8 }, "Email Marketing Needs": { s: 8 },
                "Project Priority": { s: 9 }, "Preferred Communication": { s: 9 }, "Key Stakeholders": { s: 9 }, "Budget": { s: 9 }, "Currency": { s: 9 }, "Timeline": { s: 9 }, "Final Notes & Expectations": { s: 9 }
            };

            const showStep = (step) => {
                document.querySelectorAll('.form-step').forEach(el => el.classList.remove('active'));
                document.getElementById(`step-${step}`).classList.add('active');
                document.getElementById('progressBar').style.width = `${(step / totalSteps) * 100}%`;
                document.getElementById('stepIndicator').textContent = `Step ${step} of ${totalSteps}`;
                document.getElementById('prevBtn').style.display = step === 1 ? 'none' : 'inline-block';
                document.getElementById('nextBtn').style.display = step === totalSteps ? 'none' : 'inline-block';
                document.getElementById('submitBtn').style.display = step === totalSteps ? 'inline-block' : 'none';
                if (step === totalSteps) generateReview();
            };

            const validateStep = (step) => {
                let isValid = true;
                const currentStepEl = document.getElementById(`step-${step}`);
                currentStepEl.querySelectorAll('.invalid-field').forEach(el => el.classList.remove('invalid-field'));
                currentStepEl.querySelectorAll('.error-message').forEach(el => el.textContent = '');
                currentStepEl.querySelectorAll('input[required]').forEach(input => {
                    if (!input.value.trim()) {
                        isValid = false;
                        input.classList.add('invalid-field');
                        const errorEl = input.closest('div').querySelector('.error-message');
                        if (errorEl) errorEl.textContent = 'This field is required.';
                    }
                });
                return isValid;
            };

            document.getElementById('nextBtn').addEventListener('click', () => { if (validateStep(currentStep)) { currentStep++; showStep(currentStep); } });
            document.getElementById('prevBtn').addEventListener('click', () => { currentStep--; showStep(currentStep); });

            const setupEventListeners = () => {
                form.querySelectorAll('textarea[maxlength]').forEach(textarea => {
                    const counter = textarea.nextElementSibling;
                    const updateCounter = () => counter.textContent = `${textarea.value.length} / ${textarea.getAttribute('maxlength')}`;
                    textarea.removeEventListener('input', updateCounter);
                    textarea.addEventListener('input', updateCounter);
                    updateCounter();
                });
                const logoInput = document.getElementById('existing_logo');
                if(logoInput) logoInput.addEventListener('change', (e) => {
                    const preview = document.getElementById('logo-preview');
                    const file = e.target.files[0];
                    if (file) {
                        preview.src = URL.createObjectURL(file);
                        preview.classList.remove('hidden');
                    }
                });
                document.querySelectorAll('.marketing-service-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const detailId = e.target.value.toLowerCase().replace(/ /g, '_').replace(/-/g, '_') + '_details';
                        const detailEl = document.getElementById(detailId);
                        if (detailEl) {
                            detailEl.classList.toggle('visible', e.target.checked);
                        }
                    });
                });
            };
            
            const currencySelect = document.getElementById('currency');
            const currencies = { "USD": "$", "EUR": "€", "JPY": "¥", "GBP": "£", "INR": "₹" };
            for (const code in currencies) currencySelect.add(new Option(`${code} (${currencies[code]})`, code));
            currencySelect.value = 'USD';

            const saveFormData = () => sessionStorage.setItem('clientFormData', JSON.stringify(Object.fromEntries(new FormData(form).entries())));
            const loadFormData = () => {
                const data = JSON.parse(sessionStorage.getItem('clientFormData'));
                if (!data) return;
                for (const key in data) {
                    const element = form.elements[key];
                    if (element) {
                         if (element.type === 'radio' || element.type === 'checkbox') {
                            document.querySelectorAll(`input[name="${key}"][value="${data[key]}"]`).forEach(el => el.checked = true);
                        } else {
                            element.value = data[key];
                        }
                    }
                }
            };
            
            form.addEventListener('input', saveFormData);
            
            const generateReview = () => {
                const reviewContent = document.getElementById('review-content');
                reviewContent.innerHTML = '';
                const formData = new FormData(form);
                const createReviewSection = (title, step) => `<div class="p-4 border rounded-lg bg-white mb-4"><div class="flex justify-between items-center mb-2"><h4 class="font-bold text-lg">${title}</h4><button type="button" class="text-blue-600 hover:underline text-sm edit-btn" data-step="${step}">Edit</button></div><div class="review-section-content space-y-2"></div></div>`;
                reviewContent.innerHTML = [1, 2, 3, 4, 5, 6, 7, 8, 9].map(i => createReviewSection(document.querySelector(`#step-${i} h2`).textContent, i)).join('');
                for (let [key, value] of formData.entries()) {
                    if (fieldLabels[key] && value) {
                        const container = reviewContent.querySelectorAll('.review-section-content')[fieldLabels[key].s - 1];
                        let displayValue = value.toString().replace(/\n/g, '<br>');
                        if (key === 'Existing Logo' && form.elements[key].files.length > 0) {
                            displayValue = form.elements[key].files[0].name;
                        } else if (key === 'Existing Logo') continue;
                        if (key === 'Marketing Service') {
                            if (!container.querySelector('[data-key="Marketing Service"]')) {
                                container.insertAdjacentHTML('beforeend', `<div data-key="Marketing Service"><strong>Marketing Services:</strong><p class="text-gray-700 pl-2 break-words">${formData.getAll(key).join(', ')}</p></div>`);
                            }
                        } else {
                            container.insertAdjacentHTML('beforeend', `<div><strong>${key}:</strong><p class="text-gray-700 pl-2 break-words">${displayValue}</p></div>`);
                        }
                    }
                }
                reviewContent.querySelectorAll('.edit-btn').forEach(btn => btn.addEventListener('click', () => { currentStep = parseInt(btn.dataset.step); showStep(currentStep); }));
            };

            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                const loader = document.getElementById('submission-loader');
                loader.style.display = 'flex';
                
                const clientEmail = document.getElementById('email').value;
                document.getElementById('replyto-field').value = clientEmail;
                document.getElementById('cc-field').value = clientEmail;

                const formData = new FormData(form);
                try {
                    const response = await fetch(form.action, {
                        method: form.method,
                        body: formData,
                        headers: { 'Accept': 'application/json' }
                    });

                    loader.style.display = 'none';

                    if (response.ok) {
                        const submissions = JSON.parse(localStorage.getItem('limitlessSubmissions')) || [];
                        let submissionData = Object.fromEntries(formData.entries());
                        submissionData.submissionDate = new Date().toISOString();
                        submissionData.status = "New"; // Add default status
                        submissions.push(submissionData);
                        localStorage.setItem('limitlessSubmissions', JSON.stringify(submissions));
                        
                        mainView.innerHTML = document.getElementById('successMessage').innerHTML;
                        document.getElementById('startOverBtn').addEventListener('click', () => window.location.replace(window.location.pathname));
                        sessionStorage.removeItem('clientFormData');
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                } catch (error) {
                    loader.style.display = 'none';
                    document.getElementById('submissionError').style.display = 'block';
                    console.error('Submission error:', error);
                }
            });

            const showAdminDashboard = (searchTerm = '') => {
                mainView.style.display = 'none';
                adminView.classList.add('active');
                let submissions = JSON.parse(localStorage.getItem('limitlessSubmissions')) || [];
                const submissionsContainer = document.getElementById('submissions-container');
                submissionsContainer.innerHTML = '';
                
                if (searchTerm) {
                    submissions = submissions.filter(sub => 
                        (sub['Full Name'] && sub['Full Name'].toLowerCase().includes(searchTerm)) ||
                        (sub['Company Name'] && sub['Company Name'].toLowerCase().includes(searchTerm)) ||
                        (sub['Email'] && sub['Email'].toLowerCase().includes(searchTerm))
                    );
                }
                
                const statusColors = { "New": "bg-blue-100 text-blue-800", "Contacted": "bg-yellow-100 text-yellow-800", "Proposal Sent": "bg-purple-100 text-purple-800", "In Progress": "bg-green-100 text-green-800", "On Hold": "bg-gray-100 text-gray-800", "Completed": "bg-gray-400 text-white" };
                const statuses = Object.keys(statusColors);

                if (submissions.length === 0) {
                    document.getElementById('no-submissions').style.display = 'block';
                    document.getElementById('downloadAllCsvBtn').disabled = true;
                } else {
                    document.getElementById('no-submissions').style.display = 'none';
                    document.getElementById('downloadAllCsvBtn').disabled = false;
                    submissions.forEach((sub, index) => {
                        const status = sub.status || "New";
                        const card = `<div class="bg-white p-4 rounded-lg shadow border flex justify-between items-center">
                            <div>
                                <p class="font-bold text-lg text-blue-600">${sub["Full Name"] || 'N/A'}</p>
                                <p class="text-sm text-gray-600">${sub["Company Name"] || 'No Company'}</p>
                                <p class="text-xs text-gray-400 mt-1">${new Date(sub.submissionDate).toLocaleString()}</p>
                            </div>
                            <div class="flex items-center space-x-4">
                                <select class="status-select text-xs rounded-md border-gray-300 ${statusColors[status]}" data-index="${submissions.indexOf(sub)}">
                                    ${statuses.map(s => `<option value="${s}" ${s === status ? 'selected' : ''}>${s}</option>`).join('')}
                                </select>
                                <button class="text-blue-600 hover:underline view-details-btn" data-index="${submissions.indexOf(sub)}">View Details</button>
                            </div>
                        </div>`;
                        submissionsContainer.insertAdjacentHTML('beforeend', card);
                    });
                    document.querySelectorAll('.view-details-btn').forEach(btn => btn.addEventListener('click', (e) => showDetailsModal(e.target.dataset.index)));
                    document.querySelectorAll('.status-select').forEach(select => select.addEventListener('change', (e) => {
                        const newStatus = e.target.value;
                        const submissionIndex = e.target.dataset.index;
                        let allSubmissions = JSON.parse(localStorage.getItem('limitlessSubmissions'));
                        allSubmissions[submissionIndex].status = newStatus;
                        localStorage.setItem('limitlessSubmissions', JSON.stringify(allSubmissions));
                        e.target.className = `status-select text-xs rounded-md border-gray-300 ${statusColors[newStatus]}`;
                    }));
                }
            };

            document.getElementById('admin-search').addEventListener('input', (e) => showAdminDashboard(e.target.value.toLowerCase()));

            const showDetailsModal = (index) => {
                const submissions = JSON.parse(localStorage.getItem('limitlessSubmissions')) || [];
                const submission = submissions[index];
                const modalContent = document.getElementById('details-modal-content');
                modalContent.innerHTML = '';
                for (const key in submission) {
                    if (key !== 'submissionDate' && key !== 'status' && key.charAt(0) !== '_') {
                         modalContent.insertAdjacentHTML('beforeend', `<div class="border-b pb-2"><strong>${key}:</strong><p class="text-gray-700 pl-2 break-words">${submission[key] || 'N/A'}</p></div>`);
                    }
                }
                document.getElementById('details-modal').classList.add('visible');
                document.getElementById('download-single-csv-btn').dataset.index = index;
            };
            document.getElementById('close-details-modal').addEventListener('click', () => document.getElementById('details-modal').classList.remove('visible'));
            
            const downloadCSV = (data) => {
                const headers = Object.keys(fieldLabels);
                const csvRows = [headers.join(','), ...data.map(row => headers.map(header => `"${(row[header] || '').toString().replace(/"/g, '""')}"`).join(','))];
                const link = document.createElement("a");
                link.href = URL.createObjectURL(new Blob([csvRows.join('\n')], { type: 'text/csv;charset=utf-8;' }));
                link.download = `submission-${Date.now()}.csv`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            document.getElementById('downloadAllCsvBtn').addEventListener('click', () => {
                const submissions = JSON.parse(localStorage.getItem('limitlessSubmissions')) || [];
                if (submissions.length > 0) downloadCSV(submissions);
            });
            document.getElementById('download-single-csv-btn').addEventListener('click', (e) => {
                const submissions = JSON.parse(localStorage.getItem('limitlessSubmissions')) || [];
                const submission = submissions[e.target.dataset.index];
                if (submission) downloadCSV([submission]);
            });
            
            const modal = document.getElementById('confirmation-modal');
            document.getElementById('clearAllBtn').addEventListener('click', () => modal.classList.add('visible'));
            document.getElementById('cancel-clear').addEventListener('click', () => modal.classList.remove('visible'));
            document.getElementById('confirm-clear').addEventListener('click', () => {
                localStorage.removeItem('limitlessSubmissions');
                modal.classList.remove('visible');
                showAdminDashboard();
            });

            if (window.location.hash === '#admin') {
                showAdminDashboard();
            } else {
                setupEventListeners();
                loadFormData();
                showStep(currentStep);
            }
        });
    </script>
</body>
</html>
